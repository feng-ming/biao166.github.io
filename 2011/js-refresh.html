<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JS刷新页面的种种 | LiBiao's Blog</title>
  <meta name="author" content="biao166">
  
  <meta name="description" content="Location 对象：
包含有关当前 URL 的信息，是 Window 对象的一个部分，可通过 window.location 属性来访问，存储在 Window 对象的 Location 属性中，表示那个窗口中当前显示的文档的 Web 地址。它的 href 属性存放的是文档的完整 URL，其他属性则分别描述了 URL 的各个部分。这些属性与 Anchor 对象（或 Area 对象）的 URL 属性非常相似。当一个 Location 对象被转换成字符串，href 属性的值被返回。这意味着你可以使用表达式 location 来替代 location.href。
Location 对象方法
assign() 方法
定义和用法
assign() 方法可加载一个新的文档。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="JS刷新页面的种种"/>
  <meta property="og:site_name" content="LiBiao's Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="LiBiao's Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
    <header id="masthead" class="" role="banner">
    <div class="wrap">
        <hgroup>
        <h1 id="site_title"><a href="/">LiBiao's Blog</a></h1>
        <h2 id="site_description"><a href="/">奔跑于泥地中为梦想</a></h2>
      </hgroup>

      <nav id="site_nav" role="navigation">
        <ul>
          
            <li><a href="/">Home</a></li>
          
            <li><a href="/archives">Archives</a></li>
          
        </ul>
      </nav>

      <div class="search">
  <form role="search" method="get" class="search_form" action="//google.com/search" accept-charset="utf-8" target="_blank">
    <label>
      <span class="screen_reader_text">搜索：</span>
      <input type="search" class="search_field" placeholder="搜索…" value="" name="q" title="搜索" results="0">
      <input type="hidden" name="q" value="site:libiao.name">
    </label>
    <input type="submit" class="search_submit" value="搜索">
  </form>
</div>

    </div>
</header>


    <div id="content" class="wrap">
        <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2011-11-30T16:28:12.000Z"><a href="/2011/js-refresh.html">12月 1 2011</a></time>
      
      
        
          <h1 class="title">JS刷新页面的种种</h1>
        
      
    </header>
    <div class="entry">
      
        <h4><a href="http://www.w3school.com.cn/htmldom/dom_obj_location.asp" target="_blank">Location 对象</a>：</h4>
<p>包含有关当前 URL 的信息，是 Window 对象的一个部分，可通过 window.location 属性来访问，存储在 Window 对象的 Location 属性中，表示那个窗口中当前显示的文档的 Web 地址。它的 <a href="http://www.w3school.com.cn/htmldom/prop_loc_href.asp" target="_blank">href 属性</a>存放的是文档的完整 URL，其他属性则分别描述了 URL 的各个部分。这些属性与 Anchor 对象（或 Area 对象）的 URL 属性非常相似。当一个 Location 对象被转换成字符串，href 属性的值被返回。这意味着你可以使用表达式 location 来替代 location.href。</p>
<h2>Location 对象方法</h2>
<h3>assign() 方法</h3>
<h4>定义和用法</h4>
<p>assign() 方法可加载一个新的文档。<a id="more"></a></p>
<h4>语法</h4>
<p><code>location.assign(URL)</code></p>
<h4>实例</h4>
<p>[html]<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;script type=&quot;text/javascript&quot;&gt;<br>    function newDoc(){<br>    window.location.assign(&lt;a href=&quot;../&quot;&gt;<a href="http://www.libiao.name&lt;/a&amp;gt" target="_blank">http://www.libiao.name&lt;/a&amp;gt</a>;)<br>    }<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;input type=&quot;button&quot; value=&quot;Load new document&quot; onclick=&quot;newDoc()&quot; /&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br>[/html]</p>
<h2>reload() 方法</h2>
<h3>定义和用法</h3>
<p>reload() 方法用于重新加载当前文档。</p>
<h4>语法</h4>
<p><code>location.reload(force)</code></p>
<h4>说明</h4>
<p>如果该方法没有规定参数，或者参数是 false，它就会用 HTTP 头 If-Modified-Since 来检测服务器上的文档是否已改变。如果文档已改变，reload() 会再次下载该文档。如果文档未改变，则该方法将从缓存中装载文档。这与用户单击浏览器的刷新按钮的效果是完全一样的。</p>
<p>如果把该方法的参数设置为 true，那么无论文档的最后修改日期是什么，它都会绕过缓存，从服务器上重新下载该文档。这与用户在单击浏览器的刷新按钮时按住 Shift 健的效果是完全一样。</p>
<h4>实例</h4>
<p>[html]<br>    &lt;html&gt;<br>    &lt;head&gt;<br>    &lt;script type=”text/javascript”&gt;<br>        function reloadPage(){window.location.reload()}<br>    &lt;/script&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;input type=”button” value=”Reload page” onclick=”reloadPage()” /&gt;<br>    &lt;/body&gt;<br>    &lt;/html&gt;<br>[/html]</p>
<h2>replace() 方法</h2>
<h3>定义和用法</h3>
<p>replace() 方法可用一个新文档取代当前文档。</p>
<h3>语法</h3>
<p><code>location.replace(newURL)</code></p>
<h3>说明</h3>
<p>replace() 方法不会在 History 对象中生成一个新的纪录。当使用该方法时，新的 URL 将覆盖 History 对象中的当前纪录。</p>
<h4>实例</h4>
<p>下面的例子将使用 replace() 方法来替换当前文档：<br>[html]<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;script type=”text/javascript”&gt;<br>    function replaceDoc(){<br>        window.location.replace(“<a href="http://www.w3school.com.cn”" target="_blank">http://www.w3school.com.cn”</a>)<br>    }<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;input type=”button” value=”Replace document” onclick=”replaceDoc()” /&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br>[/html]<br>附：<br>Javascript刷新页面的几种方法：</p>
<ul>
<li>history.go(0)</li>
<li>location.reload()</li>
<li>location=location</li>
<li>location.assign(location)</li>
<li>document.execCommand(‘Refresh’)</li>
<li>window.navigate(location)</li>
<li>location.replace(location)</li>
<li>document.URL=location.href<br>自动刷新页面的方法:<br>1.页面自动刷新：把如下代码加入&lt;head&gt;区域中<br>&lt;meta http-equiv=“refresh” content=“20”&gt;<br>其中20指每隔20秒刷新一次页面.</li>
</ul>
<p>2.页面自动跳转：把如下代码加入&lt;head&gt;区域中<br>&lt;meta http-equiv=“refresh” content=&quot;20;url=<a href="http://www.libiao.name&quot;&amp;gt" target="_blank">http://www.libiao.name&quot;&amp;gt</a>;<br>其中20指隔20秒后跳转到<a href="../"><a href="http://www.libiao.name">http://www.libiao.name</a></a>页面</p>
<p>3.页面自动刷新js版<br>&lt;script language=“JavaScript”&gt;<br>function myrefresh(){<br>window.location.reload();<br>}<br>setTimeout(‘myrefresh()’,1000); //指定1秒刷新一次<br>&lt;/script&gt;</p>
<p>JS刷新框架的脚本语句</p>
<p>//如何刷新包含该框架的页面用<br>&lt;script language=JavaScript&gt;<br>parent.location.reload();<br>&lt;/script&gt;</p>
<p>//子窗口刷新父窗口<br>&lt;script language=JavaScript&gt;<br>self.opener.location.reload();<br>&lt;/script&gt;<br>(　或　&lt;a href=“javascript:opener.location.reload()”&gt;刷新&lt;/a&gt;   )</p>
<p>//如何刷新另一个框架的页面用<br>&lt;script language=JavaScript&gt;<br>parent.另一FrameID.location.reload();<br>&lt;/script&gt;</p>
<p>//如果想关闭窗口时刷新或者想开窗时刷新的话，在&lt;body&gt;中调用以下语句即可。<br>&lt;body onload=“opener.location.reload()”&gt; 开窗时刷新<br>&lt;body onUnload=“opener.location.reload()”&gt; 关闭时刷新<br>&lt;script language=“javascript”&gt;<br>window.opener.document.location.reload()<br>&lt;/script&gt;</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>




    </div>

    <footer id="colophon" class="site_footer" role="footer">
  
  &copy; 2013 biao166
  
</footer>


    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'libiao';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






</body>
</html>
